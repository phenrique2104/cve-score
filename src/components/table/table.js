import { useState, useEffect } from "react";
import "./table.style.css"


export const Table = ({ dataTable }) => {
    console.log(dataTable);


    const [tableLenght, setTableLenght] = useState(dataTable?.capec);


    const RenderRow = () => {
        console.log('yeah')
        if (tableLenght !== dataTable?.capec?.length) {
            setTableLenght(dataTable?.capec.length - 1)
        } else {
            setTableLenght(tableLenght - 1)
        }

        if (dataTable.capec) {
            for (let index = 0; index < dataTable.capec.length; index++) {
                debugger
                return (
                    <>

                        <tr>
                            <td>{dataTable.capec[index].id}</td>
                        </tr>

                    </>

                )

            }

        }



    }


    return (
        <>
            {dataTable ?
                <div className="data">

                    <span className="span-table">
                        <table className="data-table">
                            <caption className="caption">Overview</caption>
                            <thead>
                                <tr>
                                    <th>CWE</th>
                                    <th>Summary</th>
                                    <th>Modified</th>
                                    <th>Acess authentication</th>
                                    <th>Acess Complexity</th>
                                    <th>Acess Vector</th>
                                    <th>Score Impact</th>
                                </tr>

                            </thead>
                            <tbody>
                                <tr>
                                    <td>{dataTable?.cwe}</td>
                                    <td>{dataTable?.summary}</td>
                                    <td>{dataTable?.Modified}</td>
                                    <td>{dataTable?.access?.authentication}</td>
                                    <td>{dataTable?.access?.complexity}</td>
                                    <td>{dataTable?.access?.vector}</td>
                                    <td>{dataTable?.impactScore3}</td>
                                </tr>

                            </tbody>

                        </table>


                    </span>
                    <span className="span-table">
                        <table className="data-table">
                            <caption className="caption">Related CVSS</caption>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Severity</th>
                                    <th>Name</th>

                                </tr>

                            </thead>
                            <tbody>
                                
                                <tr>
                                    <td>{dataTable.capec[dataTable.capec.length - 1].id}</td>
                                    <td>{dataTable.capec[dataTable.capec.length - 1].typical_severity}</td>
                                    <td>{dataTable.capec[dataTable.capec.length - 1].name}</td>
                                </tr>
                                <tr>
                                    <td>{dataTable.capec[dataTable.capec.length - 2].id}</td>
                                    <td>{dataTable.capec[dataTable.capec.length - 2].typical_severity}</td>
                                    <td>{dataTable.capec[dataTable.capec.length - 2].name}</td>
                                </tr>
                                <tr>
                                    <td>{dataTable.capec[dataTable.capec.length - 3].id}</td>
                                    <td>{dataTable.capec[dataTable.capec.length - 3].typical_severity}</td>
                                    <td>{dataTable.capec[dataTable.capec.length - 3].name}</td>
                                </tr>
                               

                            </tbody>

                        </table>
                    </span>



                </div>
                : ""}


        </>
    )
}



